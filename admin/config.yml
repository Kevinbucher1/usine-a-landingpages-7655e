# config.yml

media_folder: "static/img"

collections:
  # Collection pour les Landing Pages (fichiers .njk)
  - name: "landing_pages"
    label: "Landing Page (HTML/NJK)"
    folder: "pages" # Le dossier où les fichiers sont sauvegardés
    create: true
    slug: "{{slug}}"
    extension: "njk"  # Force la création de fichiers .njk
    format: "frontmatter" # Dit au CMS de séparer le front matter (---) du contenu
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Date de publication", name: "date", widget: "datetime" }
      - { label: "URL (Permalink)", name: "permalink", widget: "string", hint: "Exemple: /ma-super-page/" }
      - { label: "Layout", name: "layout", widget: "hidden", default: "layouts/base.njk" } # Applique le layout par défaut
      - { label: "Scripts & Styles (Head)", name: "page_css", widget: "code", hint: "Code à injecter dans la balise <head>" }
      - { label: "Contenu HTML (Body)", name: "body", widget: "code" }

  # Collection pour les articles de blog (fichiers .md)
  - name: "blog"
    label: "Article de Blog (Markdown)"
    folder: "posts"
    create: true
    extension: "md" # Force la création de fichiers .md
    format: "frontmatter"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime" }
      - { label: "Body", name: "body", widget: "markdown" } # Le widget markdown est parfait ici
